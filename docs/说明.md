# wxApi
企业微信踩雷,调试过的接口和功能

## 1.通讯录管理
### 1.1成员管理(routes/address/user.js)
#### 1.1.1 成员创建
#### 1.1.2 读取成员
#### 1.1.3 更新成员
#### 1.1.4 删除成员
#### 1.1.5 批量删除成员
#### 1.1.6 获取部门成员
#### 1.1.7 获取部门成员详情
#### 1.1.8 userid与openid的互换

### 1.2.部门管理(routes/address/dept.js)
#### 1.2.1 创建部门
#### 1.2.2 更新部门
#### 1.2.3 删除部门
#### 1.2.4 获取部门列表
### 1.3.标签管理 (routes/address/label.js)
#### 1.3.1 创建标签
#### 1.3.2 更新标签名字
#### 1.3.3 删除标签
#### 1.3.4 获取标签成员
#### 1.3.5 增加标签成员
#### 1.3.6 删除标签成员
#### 1.3.7 获取标签列表

## 2.应用管理
### 2.1 应用 (routes/application/index.js)
#### 2.1.1 获取应用
#### 2.1.2 获取应用列表
### 2.2 打卡(routes/application/clock.js)
#### 2.2.1 获取打卡规则
#### 2.2.2 获取打卡数据
#### 2.2.3 获取审批数据
### 2.3 自定义菜单 (routes/application/menu.js)
#### 2.3.1 创建菜单
#### 2.3.2 获取菜单
#### 2.3.3 删除菜单
### 2.4 素材管理 (routes/application/resource.js)
#### 2.4.1 上传临时素材
#### 2.4.2 获取临时素材
## 3. 消息推送
### 3.1 主动发送消息(routes/message/send.js)
#### 3.1.1 主动发送消息 (支持:文本、图片、语音、视频、文件、文本卡片、图文,需要和上传素材一起使用)
### 3.2 接收消息 (routes/message/recv.js)
#### 3.2.1 接收消息(需要先解密数据包,再把xml文件转json格式的数据，具体实现看代码)
### 3.3 被动回复 (libs/reply.js)
#### 3.3.1 首先拼装xml文本，然后再按照官方提供的加密方法加密,把加密的文本作为最后返回xml的数据包,具体实现看代码

## 4. 身份验证
### 4.1 网页授权登录 (按照文档配好可信域名, 在创建的应用中把url绑到一个事件上触发，就会开始执行网页授权,本次代码是静默授权，需要修改自行去libs/reply.js里面修改)
### 4.2 扫码授权登录 (配置好网页域名,按照文档引入js文件,访问页面会生成二维码,扫码确定后,code会返回到url里，传到后端去获取userid进行验证,具体代码routes/index.js)
